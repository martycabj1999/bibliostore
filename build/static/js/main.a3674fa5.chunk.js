(window.webpackJsonpbibliostore=window.webpackJsonpbibliostore||[]).push([[0],{266:function(e,t,a){e.exports=a(534)},271:function(e,t,a){},520:function(e,t,a){},534:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(262),l=a.n(c),o=(a(271),a(3)),s=a(43),i=a(7),m=a(4),u=a(170),d=a(79),b=a.n(d),p=(a(512),a(514),a(23));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var h={};b.a.initializeApp({apiKey:"AIzaSyBxfTE-aNyYZKEWnYcExuKhJeQKbiNaTyY",authDomain:"bibliostore-10b82.firebaseapp.com",databaseURL:"https://bibliostore-10b82.firebaseio.com",projectId:"bibliostore-10b82",storageBucket:"bibliostore-10b82.appspot.com",messagingSenderId:"153278512373",appId:"1:153278512373:web:395c8b6e8fc4ff24"});var v=Object(i.c)(Object(m.reactReduxFirebase)(b.a,{userProfile:"users",useFirestoreForProfile:!0}),Object(u.reduxFirestore)(b.a))(i.d)(Object(i.b)({firebase:m.firebaseReducer,firestore:u.firestoreReducer,usuario:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BUSCAR_USUARIO":return E({},e,{nombre:t.usuario.nombre,apellido:t.usuario.apellido,codigo:t.usuario.codigo,carrea:t.usuario.carrera});default:return e}}}),{},Object(i.c)(Object(m.reactReduxFirebase)(b.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),N=a(9),g=(a(520),function(){return n.a.createElement("div",{className:"spinner"},n.a.createElement("div",{className:"bounce1"}),n.a.createElement("div",{className:"bounce2"}),n.a.createElement("div",{className:"bounce3"}))}),y=Object(i.c)(Object(m.firestoreConnect)([{collection:"libros"}]),Object(N.connect)(function(e,t){return{libros:e.firestore.ordered.libros}}))(function(e){var t=e.libros,a=e.firestore;return t?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 mb-4"},n.a.createElement(o.b,{to:"/libros/nuevo",className:"btn btn-success"},n.a.createElement("i",{className:"fas fa-plus"})," ","","Nuevo Libro")),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h2",null,n.a.createElement("i",{className:"fas fa-book"})," ","","Libros")),n.a.createElement("table",{className:"table table-striped mt-4"},n.a.createElement("thead",{className:"text-light bg-primary"},n.a.createElement("tr",null,n.a.createElement("th",null,"Titulo"),n.a.createElement("th",null,"ISBN"),n.a.createElement("th",null,"Editorial"),n.a.createElement("th",null,"Existencia"),n.a.createElement("th",null,"Disponibles"),n.a.createElement("th",null,"Acciones"))),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.titulo),n.a.createElement("td",null,e.ISBN),n.a.createElement("td",null,e.editorial),n.a.createElement("td",null,e.existencia),n.a.createElement("td",null,e.existencia-e.prestados.length),n.a.createElement("td",null,n.a.createElement(o.b,{to:"/libros/mostrar/".concat(e.id),className:"btn btn-success btn-block"},n.a.createElement("i",{className:"fas fa-angle-double-right"})," ","","M\xe1s Informaci\xf3n"),n.a.createElement("button",{type:"button",className:"btn btn-danger btn-block",onClick:function(){return t=e.id,void a.delete({collection:"libros",doc:t});var t}},n.a.createElement("i",{className:"fas fa-trash-alt"})," ","","Eliminar")))})))):n.a.createElement(g,null)}),O=a(12),j=a(13),w=a(16),S=a(14),x=a(15);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var I=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).devolverLibro=function(e){var t=a.props.firestore,r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.props.libro),n=r.prestados.filter(function(t){return t.codigo!==e});r.prestados=n,t.update({collection:"libros",doc:r.id},r)},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.libro;return a?(e=a.existencia-a.prestados.length>0?n.a.createElement(o.b,{to:"/libros/prestamo/".concat(a.id),className:"btn btn-success my-3"},"Solicitar Prestamo"):null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 mb-4"},n.a.createElement(o.b,{to:"/",className:"btn btn-secondary"},n.a.createElement("i",{className:"fas fa-arrow-circle-left"})," ","","Volver al Listado")),n.a.createElement("div",{className:"col-md-6 mb-4"},n.a.createElement(o.b,{to:"/libros/editar/".concat(a.id),className:"btn btn-primary float-right"},n.a.createElement("i",{className:"fas fa-pencil-alt"})," ","","Editar Libro")),n.a.createElement("hr",{className:"mx-5 w-100"}),n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",{className:"mb-4"},a.titulo),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"ISBN:")," ","",a.ISBN),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Editorial:")," ","",a.editorial),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Existencia:")," ","",a.existencia),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Disponibles:")," ","",a.existencia-a.prestados.length),e,n.a.createElement("h3",{className:"my-2"},"Personas que tienen el libro prestado"),a.prestados.map(function(e){return n.a.createElement("div",{key:e.codigo,className:"card-my 2"},n.a.createElement("h4",{className:"card-header"},e.nombre," ",e.apellido),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Codigo:")," ","",e.codigo),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Carrera:")," ","",e.carrera),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Fecha Solicitud:")," ","",e.fecha_solicitud)),n.a.createElement("div",{className:"card-footer"},n.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bold",onClick:function(){return t.devolverLibro(e.codigo)}},"Realizar Devoluci\xf3n")))})))):n.a.createElement(g,null)}}]),t}(r.Component),D=Object(i.c)(Object(m.firestoreConnect)(function(e){return[{collection:"libros",storeAs:"libro",doc:e.match.params.id}]}),Object(N.connect)(function(e,t){var a=e.firestore.ordered;return{libro:a.libro&&a.libro[0]}}))(I),P=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).state={titulo:"",ISBN:"",editorial:"",existencia:""},a.agregarLibro=function(e){e.preventDefault();var t=a.state;t.prestados=[];var r=a.props,n=r.firestore,c=r.history;n.add({collection:"libros"},t).then(function(){return c.push("/")})},a.leerDato=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 mb-4"},n.a.createElement(o.b,{to:"/",className:"btn btn-secondary"},n.a.createElement("i",{className:"fas fa-arrow-circle-left"})," ","","Volver al Listado")),n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",null,n.a.createElement("i",{className:"fas fa-book"})," ","","Nuevo Libro"),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8 mt-5"},n.a.createElement("form",{onSubmit:this.agregarLibro},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Titulo:"),n.a.createElement("input",{type:"text",className:"form-control",name:"titulo",placeholder:"Titulo o Nombre del Libro",required:!0,value:this.state.titulo,onChange:this.leerDato})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Editorial:"),n.a.createElement("input",{type:"text",className:"form-control",name:"editorial",placeholder:"Editorial del Libro",required:!0,value:this.state.editorial,onChange:this.leerDato})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"ISBN:"),n.a.createElement("input",{type:"text",className:"form-control",name:"ISBN",placeholder:"ISBN del Libro",required:!0,value:this.state.ISBN,onChange:this.leerDato})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Existencia:"),n.a.createElement("input",{type:"number",min:"0",className:"form-control",name:"existencia",placeholder:"Cantidad de Existencia",required:!0,value:this.state.existencia,onChange:this.leerDato})),n.a.createElement("input",{type:"submit",value:"Agregar Libro",className:"btn btn-success"}))))))}}]),t}(r.Component),k=Object(m.firestoreConnect)()(P),A=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(c)))).tituloInput=n.a.createRef(),a.editorialInput=n.a.createRef(),a.ISBNInput=n.a.createRef(),a.existenciaInput=n.a.createRef(),a.actualizarLibro=function(e){e.preventDefault();var t={titulo:a.tituloInput.current.value,editorial:a.editorialInput.current.value,ISBN:a.ISBNInput.current.value,existencia:a.existenciaInput.current.value},r=a.props,n=r.firestore,c=r.history,l=r.libro;n.update({collection:"libros",doc:l.id},t).then(c.push("/"))},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.libro;return e?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 mb-4"},n.a.createElement(o.b,{to:"/",className:"btn btn-secondary"},n.a.createElement("i",{className:"fas fa-arrow-circle-left"})," ","","Volver al Listado")),n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",null,n.a.createElement("i",{className:"fas fa-book"})," ","","Editar Libro"),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8 mt-5"},n.a.createElement("form",{onSubmit:this.actualizarLibro},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Titulo:"),n.a.createElement("input",{type:"text",className:"form-control",name:"titulo",placeholder:"Titulo o Nombre del Libro",required:!0,defaultValue:e.titulo,ref:this.tituloInput})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Editorial:"),n.a.createElement("input",{type:"text",className:"form-control",name:"editorial",placeholder:"Editorial del Libro",required:!0,defaultValue:e.editorial,ref:this.editorialInput})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"ISBN:"),n.a.createElement("input",{type:"text",className:"form-control",name:"ISBN",placeholder:"ISBN del Libro",required:!0,defaultValue:e.ISBN,ref:this.ISBNInput})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Existencia:"),n.a.createElement("input",{type:"number",min:"0",className:"form-control",name:"existencia",placeholder:"Cantidad de Existencia",required:!0,defaultValue:e.existencia,ref:this.existenciaInput})),n.a.createElement("input",{type:"submit",value:"Editar Libro",className:"btn btn-success"})))))):n.a.createElement(g,null)}}]),t}(r.Component),L=Object(i.c)(Object(m.firestoreConnect)(function(e){return[{collection:"libros",storeAs:"libro",doc:e.match.params.id}]}),Object(N.connect)(function(e,t){var a=e.firestore.ordered;return{libro:a.libro&&a.libro[0]}}))(A),R=a(265),B=function(e){var t=e.alumno;return n.a.createElement("div",{className:"card my-3"},n.a.createElement("h3",{className:"card-header bg-primary text-white"},"Datos del Solicitante"),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"font-weight-bold"},"Nombre: ","",n.a.createElement("span",{className:"ofnt-weight-normal"},t.nombre)),n.a.createElement("p",{className:"font-weight-bold"},"C\xf3digo: ","",n.a.createElement("span",{className:"ofnt-weight-normal"},t.codigo)),n.a.createElement("p",{className:"font-weight-bold"},"Carrera: ","",n.a.createElement("span",{className:"ofnt-weight-normal"},t.carrera))))};function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var V=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).state={noResultados:!1,busqueda:""},a.buscarAlumno=function(e){e.preventDefault();var t=a.state.busqueda,r=a.props,n=r.firestore,c=r.buscarUsuario;n.collection("suscriptores").where("codigo","==",t).get().then(function(e){if(e.empty)c({}),a.setState({noResultados:!0});else{var t=e.docs[0];c(t.data()),a.setState({noResultados:!1})}})},a.solicitarPrestamo=function(){var e=a.props.usuario;e.fecha_solicitud=(new Date).toLocaleDateString();var t;t=[].concat(Object(R.a)(a.props.libro.prestados),[e]);var r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.props.libro);delete r.prestados,r.prestados=t;var n=a.props,c=n.firestore,l=n.history;c.update({collection:"libros",doc:r.id},r).then(l.push("/"))},a.leerDato=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.libro;if(!e)return n.a.createElement(g,null);var t,a,r=this.props.usuario;r.nombre?(t=n.a.createElement(B,{alumno:r}),a=n.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.solicitarPrestamo},"Solicitar Prestamo")):(t=null,a=null);var c="";return this.state.noResultados?(console.log("entra"),c=n.a.createElement("div",{className:"alert alert-danger text-center font-weight-bold"},"No hay resultados para ese c\xf3digo.")):(console.log("entra else"),c=null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 mb-4"},n.a.createElement(o.b,{to:"/",className:"btn btn-secondary"},n.a.createElement("i",{className:"fas fa-arrow-circle-left"})," ","","Volver al Listado")),n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",null,n.a.createElement("i",{className:"fas fa-book"})," ","","Solicitar Prestamo : ",e.titulo),n.a.createElement("div",{className:"row justify-content-center mt-5"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("form",{onSubmit:this.buscarAlumno,className:"mb-4"},n.a.createElement("legend",{className:"color-primary text-center"},"Busca el Suscriptor por C\xf3digo"),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",name:"busqueda",className:"form-control",onChange:this.leerDato})),n.a.createElement("input",{type:"submit",className:"btn btn-success btn-block"})),t,a,c))))}}]),t}(r.Component),_=Object(i.c)(Object(m.firestoreConnect)(function(e){return[{collection:"libros",storeAs:"libro",doc:e.match.params.id}]}),Object(N.connect)(function(e,t){var a=e.firestore.ordered,r=e.usuario;return{libro:a.libro&&a.libro[0],usuario:r}},{buscarUsuario:function(e){return{type:"BUSCAR_USUARIO",usuario:e}}}))(V),U=Object(i.c)(Object(m.firestoreConnect)([{collection:"suscriptores"}]),Object(N.connect)(function(e,t){return{suscriptores:e.firestore.ordered.suscriptores}}))(function(e){var t=e.suscriptores,a=e.firestore;if(!t)return n.a.createElement(g,null);return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12 mb-4"},n.a.createElement(o.b,{to:"/suscriptor/nuevo",className:"btn btn-success"},n.a.createElement("i",{className:"fas fal-plus"}),"","Nuevo Suscriptor")),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h2",null,n.a.createElement("i",{className:"fas fa-users"})," Suscriptores")),n.a.createElement("table",{className:"table table-striped mt-4"},n.a.createElement("thead",{className:"text-light bg-primary"},n.a.createElement("th",null,"Nombre"),n.a.createElement("th",null,"Carrera"),n.a.createElement("th",null,"Acciones")),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.nombre," ",e.apellido),n.a.createElement("td",null,e.carrera),n.a.createElement("td",null,n.a.createElement(o.b,{to:"/suscriptor/mostrar/".concat(e.id),className:"btn btn-success btn-block"},n.a.createElement("i",{className:"fas fa-angle-dougle-right"})," ","","M\xe1s Informaci\xf3n"),n.a.createElement("button",{type:"button",className:"btn btn-danger btn-block",onClick:function(){return t=e.id,void a.delete({collection:"suscriptores",doc:t});var t}},n.a.createElement("i",{className:"fas fa-trash-alt"})," ","","Eliminar")))}))))}),T=Object(i.c)(Object(m.firestoreConnect)(function(e){return[{collection:"suscriptores",storeAs:"suscriptor",doc:e.match.params.id}]}),Object(N.connect)(function(e,t){var a=e.firestore.ordered;return{suscriptor:a.suscriptor&&a.suscriptor[0]}}))(function(e){var t=e.suscriptor;return t?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 mb-4"},n.a.createElement(o.b,{to:"/suscriptores",className:"btn btn-secondary"},n.a.createElement("i",{className:"fas fa-arrow-circle-left"})," ","","Volver al Listado")),n.a.createElement("div",{className:"col-md-6"},n.a.createElement(o.b,{to:"/suscriptor/editar/".concat(t.id),className:"btn btn-primary float-right"},n.a.createElement("i",{className:"fas fa-pencil-alt"})," ","","Editar Suscriptor")),n.a.createElement("hr",{className:"mx-5 w-100"}),n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",{className:"mb-4"},t.nombre," ",t.apellido),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Carrera:")," ","",t.carrera),n.a.createElement("p",null,n.a.createElement("span",{className:"font-weight-bold"},"Codigo:")," ","",t.codigo))):n.a.createElement(g,null)}),z=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(c)))).nombreInput=n.a.createRef(),a.apellidoInput=n.a.createRef(),a.carreraInput=n.a.createRef(),a.codigoInput=n.a.createRef(),a.editarSuscriptor=function(e){e.preventDefault();var t={nombre:a.nombreInput.current.value,apellido:a.apellidoInput.current.value,carrera:a.carreraInput.current.value,codigo:a.codigoInput.current.value},r=a.props,n=r.suscriptor,c=r.firestore,l=r.history;c.update({collection:"suscriptores",doc:n.id},t).then(l.push("/suscriptores"))},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.suscriptor;return e?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 mb-4"},n.a.createElement(o.b,{to:"/suscriptores",className:"btn btn-secondary"},n.a.createElement("i",{className:"fas fa-arrow-circle-left"})," ","","Volver al Listado")),n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",null,n.a.createElement("i",{className:"fas fa-user"})," ","","Editar Suscriptor"),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8 mt-5"},n.a.createElement("form",{onSubmit:this.editarSuscriptor},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre:"),n.a.createElement("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre del Suscriptor",required:!0,ref:this.nombreInput,defaultValue:e.nombre})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Apellido:"),n.a.createElement("input",{type:"text",className:"form-control",name:"apellido",placeholder:"Apellido del Suscriptor",required:!0,ref:this.apellidoInput,defaultValue:e.apellido})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Carrera:"),n.a.createElement("input",{type:"text",className:"form-control",name:"carrera",placeholder:"Carrera del Suscriptor",required:!0,ref:this.carreraInput,defaultValue:e.carrera})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Codigo:"),n.a.createElement("input",{type:"text",className:"form-control",name:"codigo",placeholder:"Codigo del Suscriptor",required:!0,ref:this.codigoInput,defaultValue:e.codigo})),n.a.createElement("input",{type:"submit",value:"Editar Suscriptor",className:"btn btn-success"})))))):n.a.createElement(g,null)}}]),t}(r.Component),F=Object(i.c)(Object(m.firestoreConnect)(function(e){return[{collection:"suscriptores",storeAs:"suscriptor",doc:e.match.params.id}]}),Object(N.connect)(function(e,t){var a=e.firestore.ordered;return{suscriptor:a.suscriptor&&a.suscriptor[0]}}))(z);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var X=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).state={nombre:"",apellido:"",carrera:"",codigo:""},a.agregarSuscriptor=function(e){e.preventDefault();var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state),r=a.props,n=r.firestore,c=r.history;n.add({collection:"suscriptores"},t).then(function(){return c.push("/suscriptores")})},a.leerDato=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 mb-4"},n.a.createElement(o.b,{to:"/suscriptores",className:"btn btn-secondary"},n.a.createElement("i",{className:"fas fa-arrow-circle-left"})," ","","Volver al Listado")),n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",null,n.a.createElement("i",{className:"fas fa-user-plus"})," ","","Nuevo Suscriptor"),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8 mt-5"},n.a.createElement("form",{onSubmit:this.agregarSuscriptor},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre:"),n.a.createElement("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre del Suscriptor",required:!0,onChange:this.leerDato,value:this.state.nombre})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Apellido:"),n.a.createElement("input",{type:"text",className:"form-control",name:"apellido",placeholder:"Apellido del Suscriptor",required:!0,onChange:this.leerDato,value:this.state.apellido})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Carrera:"),n.a.createElement("input",{type:"text",className:"form-control",name:"carrera",placeholder:"Carrera del Suscriptor",required:!0,onChange:this.leerDato,value:this.state.carrera})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Codigo:"),n.a.createElement("input",{type:"text",className:"form-control",name:"codigo",placeholder:"Codigo del Suscriptor",required:!0,onChange:this.leerDato,value:this.state.codigo})),n.a.createElement("input",{type:"submit",value:"Agregar Suscriptor",className:"btn btn-success"}))))))}}]),t}(r.Component),J=Object(m.firestoreConnect)()(X),Q=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:""},a.iniciarSesion=function(e){e.preventDefault();var t=a.props.firebase,r=a.state,n=r.email,c=r.password;t.login({email:n,password:c}).then(function(e){return console.log("NO hubo un error")}).catch(function(e){return console.log("hubo un error")})},a.leerDatos=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-5"},n.a.createElement("div",{className:"card-mt-5"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"text-center py-4"},n.a.createElement("i",{className:"fas fa-lock"})," ","","Iniciar Sesi\xf3n"),n.a.createElement("form",{onSubmit:this.iniciarSesion},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email:"),n.a.createElement("input",{type:"email",className:"form-control",name:"email",required:!0,value:this.state.email,onChange:this.leerDatos})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Password:"),n.a.createElement("input",{type:"password",className:"form-control",name:"password",required:!0,value:this.state.password,onChange:this.leerDatos})),n.a.createElement("input",{type:"submit",className:"btn btn-success btn-block",value:"Iniciar Sesi\xf3n"}))))))}}]),t}(r.Component),W=Object(m.firebaseConnect)()(Q),Y=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).state={usuarioAutenticado:!1},a.cerrarSesion=function(){a.props.firebase.logout()},a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.state.usuarioAutenticado,t=this.props.auth;return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-4"},n.a.createElement("nav",{className:"navbar navbar-light"},n.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Administrador de Biblioteca")),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor02","aria-controls":"navbarColor02","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor02"},e?n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{to:"/suscriptores",className:"nav-link"},"Suscriptores")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{to:"/",className:"nav-link"},"Libros"))):null,e?n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{href:"#!",className:"nav-link"},t.email)),n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.cerrarSesion},"Cerrar Sesi\xf3n"))):null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.auth.uid?{usuarioAutenticado:!0}:{usuarioAutenticado:!1}}}]),t}(r.Component),M=Object(i.c)(Object(m.firebaseConnect)(),Object(N.connect)(function(e,t){return{auth:e.firebase.auth}}))(Y),Z=a(169),$=a.n(Z),G=a(174),H=a(24),ee=$()({}),te=(Object(H.a)(),Object(G.connectedRouterRedirect)({wrapperDisplayName:"UserIsAuthenticated",AuthenticatingComponent:g,allowRedirectBack:!0,redirectPath:function(e,t){return ee.getRedirectQueryParam(t)||"/login"},authenticatingSelector:function(e){var t=e.firebase,a=t.auth,r=(t.profile,t.isInitializing);return!a.isLoaded||!0===r},authenticatedSelector:function(e){var t=e.firebase.auth;return t.isLoaded&&!t.isEmpty}})),ae=Object(G.connectedRouterRedirect)({wrapperDisplayName:"UserIsNotAuthenticated",AuthenticatingComponent:g,allowRedirectBack:!1,redirectPath:function(e,t){return ee.getRedirectQueryParam(t)||"/"},authenticatingSelector:function(e){var t=e.firebase,a=t.auth,r=t.isInitializing;return!a.isLoaded||!0===r},authenticatedSelector:function(e){var t=e.firebase.auth;return t.isLoaded&&t.isEmpty}});var re=function(){return n.a.createElement(N.Provider,{store:v},n.a.createElement(o.a,null,n.a.createElement(M,null),n.a.createElement("div",{className:"container"},n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:y}),n.a.createElement(s.a,{exact:!0,path:"/libros/mostrar/:id",component:te(D)}),n.a.createElement(s.a,{exact:!0,path:"/libros/nuevo",component:te(k)}),n.a.createElement(s.a,{exact:!0,path:"/libros/editar/:id",component:te(L)}),n.a.createElement(s.a,{exact:!0,path:"/libros/prestamo/:id",component:te(_)}),n.a.createElement(s.a,{exact:!0,path:"/suscriptores",component:te(U)}),n.a.createElement(s.a,{exact:!0,path:"/suscriptor/nuevo",component:te(J)}),n.a.createElement(s.a,{exact:!0,path:"/suscriptor/mostrar/:id",component:te(T)}),n.a.createElement(s.a,{exact:!0,path:"/suscriptor/editar/:id",component:te(F)}),n.a.createElement(s.a,{exact:!0,path:"/login",component:ae(W)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[266,1,2]]]);
//# sourceMappingURL=main.a3674fa5.chunk.js.map